<UserControl x:Class="YellowstonePathology.UI.Flow.FlowWorkspace"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:localUI="clr-namespace:YellowstonePathology.UI"
			 xmlns:flowUI="clr-namespace:YellowstonePathology.UI.Flow"
			 xmlns:RadioButtonGroups="clr-namespace:YellowstonePathology.UI.RadioButtonGroups"
			 xmlns:validationRules="clr-namespace:YellowstonePathology.UI.ValidationRules"
			 xmlns:converter="clr-namespace:YellowstonePathology.UI.Converter"
             xmlns:CustomControls="clr-namespace:YellowstonePathology.UI.CustomControls">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="5*"></ColumnDefinition>
            <ColumnDefinition Width="4*"></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="30"></RowDefinition>
        </Grid.RowDefinitions>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="300"></RowDefinition>
            </Grid.RowDefinitions>
            <TabControl Grid.Column="0" Grid.Row="0" Name="tabControlFlow">
                <TabItem Header="General" Name="TabItemGeneral">
                    <StackPanel Margin="20">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Report No:</TextBlock>
                            <TextBlock Name="textBoxAccessionNo" Style="{StaticResource HeadingTextBlock}" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.ReportNo}" Width="200" TextAlignment="Left"></TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Accession Date:</TextBlock>
                            <TextBox Name="textBoxAccessionDate" IsEnabled="{Binding Path=IsWorkspaceEnabled}" Style="{StaticResource BoundTextBox}"
                                     Text="{Binding Path=AccessionOrder.AccessionDate, Converter={StaticResource ShortDateConverter}}"></TextBox>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Date Of Service:</TextBlock>
                            <TextBox Name="TextBoxCollectionDate" Style="{StaticResource BoundTextBox}" IsEnabled="{Binding Path=IsWorkspaceEnabled}"
                                     Text="{Binding Path=AccessionOrder.CollectionDate, Converter={StaticResource ShortDateConverter}}"
                                     HorizontalAlignment="Stretch" KeyUp="TextBoxCollectionDate_KeyUp" ToolTip="Please enter the Date Of Service for this specimen.">
                            </TextBox>

                        </StackPanel>
                        <!--<StackPanel Orientation="Horizontal">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Date/Time Received:</TextBlock>
                            <TextBox Name="textBoxDateTimeReceived" IsEnabled="{Binding Path=IsWorkspaceEnabled}" Style="{StaticResource BoundTextBox}"
                                     Text="{Binding Path=AccessionOrder.SpecimenOrderCollection[0].DateReceived, Converter={StaticResource MilitaryDateTimeConverter}}"></TextBox>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">

                            <TextBlock Style="{StaticResource HeadingTextBlock}" VerticalAlignment="Center">Specimen:</TextBlock>

                            <Button Name="ButtonShowSpecimenDialog" Width="100" Height="30" Margin="2,2,2,2" Click="ButtonShowSpecimenDialog_Click">Details</Button>

                            <Button Name="ButtonShowSelectSpecimenDialog" Width="100" Height="30" Margin="2,2,2,2" Click="ButtonShowSelectSpecimenDialog_Click">Selection</Button>

                        </StackPanel>-->

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Clinical History:</TextBlock>
                            <TextBox Style="{StaticResource BoundTextBox}" Height="30" IsEnabled="{Binding Path=IsWorkspaceEnabled}"
                                     Text="{Binding Path=AccessionOrder.ClinicalHistory, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Professional Facility:</TextBlock>
                            <ComboBox Style="{StaticResource BoundTextBox}" ItemsSource="{Binding Path=FacilityCollection}"
									  DisplayMemberPath="FacilityName"
									  SelectedValuePath="FacilityId"
									  SelectedValue="{Binding Path=PanelSetOrderLeukemiaLymphoma.ProfessionalComponentFacilityId}"
									  IsEnabled="{Binding Path=IsWorkspaceEnabled}">
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Assigned To:</TextBlock>
                            <ComboBox Style="{StaticResource BoundTextBox}"
								 ItemsSource="{Binding Path=PathologistUsers}" 								 								 
								 DisplayMemberPath="DisplayName"								 
								 SelectedValuePath="UserId"
								 SelectedValue="{Binding Path=PanelSetOrderLeukemiaLymphoma.AssignedToId}"
								 IsEnabled="{Binding Path=IsWorkspaceEnabled}">
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Audited:</TextBlock>
                            <CheckBox IsChecked="{Binding Path=PanelSetOrderLeukemiaLymphoma.Audited}" VerticalAlignment="Center" Margin="2,2,2,2" IsEnabled="True"></CheckBox>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Audited By:</TextBlock>
                            <ComboBox Style="{StaticResource BoundTextBox}" Margin="2,2,2,2"
								         ItemsSource="{Binding Path=MedTechUsers}" HorizontalAlignment="Left"
								         DisplayMemberPath="DisplayName"								 
								         SelectedValuePath="UserId"
								         SelectedValue="{Binding Path=PanelSetOrderLeukemiaLymphoma.AuditedById}">
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Date Audited:</TextBlock>
                            <TextBox Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.AuditedDate}" Width="150" Margin="2,2,2,2"></TextBox>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" Margin="20,5,5,5">
                            <Button Name="ButtonAuditComplete" Margin="2,2,2,2" ToolTip="Audit Commplete" Click="ButtonAuditComplete_Click" HorizontalAlignment="Left" Width="200" Height="30">Audit Complete</Button>
                            <Button Name="buttonSendNotificationToNeogenomics" Click="ButtonSendNotificationToNeogenomics_Click" Height="30" Width="200" Margin="2,2,2,2">Send notification to Neogenomics</Button>
                        </StackPanel>

                    </StackPanel>
                </TabItem>
                <TabItem Header="Patient" Name="TabItemPatient">
                    <Grid>
                        <Grid.Resources>
                            <Style x:Key="TextBoxInput">
                                <Setter Property="TextBox.Margin" Value="3"></Setter>
                                <Setter Property="TextBox.VerticalAlignment" Value="Center"></Setter>
                                <Setter Property="TextBox.Width" Value="200"></Setter>
                                <Setter Property="TextBox.HorizontalAlignment" Value="Left"></Setter>
                            </Style>
                            <Style x:Key="TextBlockHeaderRight">
                                <Setter Property="TextBlock.Margin" Value="3"></Setter>
                                <Setter Property="TextBlock.FontWeight" Value="Bold"></Setter>
                                <Setter Property="TextBlock.TextAlignment" Value="Right"></Setter>
                            </Style>
                        </Grid.Resources>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="20"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Column="0" Grid.Row="2" Style="{StaticResource TextBlockHeaderRight}">Last Name:</TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="3" Style="{StaticResource TextBlockHeaderRight}">First Name:</TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="4" Style="{StaticResource TextBlockHeaderRight}">Middle Initial:</TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="5" Style="{StaticResource TextBlockHeaderRight}">Birthdate:</TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="6" Style="{StaticResource TextBlockHeaderRight}">Sex:</TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="7" Style="{StaticResource TextBlockHeaderRight}">SSN:</TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="8" Style="{StaticResource TextBlockHeaderRight}">Patient Type:</TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="9" Style="{StaticResource TextBlockHeaderRight}">Insurance:</TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="10" Style="{StaticResource TextBlockHeaderRight}">MR/Acct:</TextBlock>
                        <TextBlock Grid.Column="0" Grid.Row="11" Style="{StaticResource TextBlockHeaderRight}">Patient ID:</TextBlock>

                        <TextBox Grid.Column="1" Grid.Row="2" Text="{Binding Path=AccessionOrder.PLastNameProxy, Converter={StaticResource UpperCaseConverter}, UpdateSourceTrigger=PropertyChanged}"
                                 Style="{StaticResource TextBoxInput}" IsEnabled="{Binding Path=IsWorkspaceEnabled}"></TextBox>
                        <TextBox Grid.Column="1" Grid.Row="3" Text="{Binding Path=AccessionOrder.PFirstNameProxy, Converter={StaticResource UpperCaseConverter}, UpdateSourceTrigger=PropertyChanged}"
                                 Style="{StaticResource TextBoxInput}" IsEnabled="{Binding Path=IsWorkspaceEnabled}"></TextBox>
                        <TextBox Grid.Column="1" Grid.Row="4" Text="{Binding Path=AccessionOrder.PMiddleInitial, Converter={StaticResource UpperCaseConverter}, UpdateSourceTrigger=PropertyChanged}"
                                 Style="{StaticResource TextBoxInput}" IsEnabled="{Binding Path=IsWorkspaceEnabled}"></TextBox>

                        <TextBox Name="textBoxPBirthdate" Grid.Column="1" Grid.Row="5" Style="{StaticResource TextBoxInput}" 
                                 PreviewLostKeyboardFocus="TextBoxPBirthdate_PreviewLostKeyboardFocus"  IsEnabled="{Binding Path=IsWorkspaceEnabled}"
                                 Text="{Binding Path=AccessionOrder.PBirthdate, Converter={StaticResource ShortDateConverter}}"></TextBox>
                        <ComboBox Grid.Column="1" Grid.Row="6" Text="{Binding Path=AccessionOrder.PSex}" Margin="3" Width="50" HorizontalAlignment="Left" IsEnabled="{Binding Path=IsWorkspaceEnabled}" IsEditable="True">
                            <ComboBoxItem>F</ComboBoxItem>
                            <ComboBoxItem>M</ComboBoxItem>
                        </ComboBox>
                        <TextBox Grid.Column="1" Grid.Row="7" Style="{StaticResource TextBoxInput}" IsEnabled="{Binding Path=IsWorkspaceEnabled}"
                                 Text="{Binding Path=AccessionOrder.PSSN, Converter={StaticResource SocialSecurityNumberConverter}}"></TextBox>
                        <ComboBox Grid.Column="1" Grid.Row="8" Text="{Binding Path=AccessionOrder.PatientType}" Margin="3" Width="100" HorizontalAlignment="Left" IsEnabled="{Binding Path=IsWorkspaceEnabled}" IsEditable="True">
                            <ComboBoxItem>IP</ComboBoxItem>
                            <ComboBoxItem>OP</ComboBoxItem>
                            <ComboBoxItem>Not Selected</ComboBoxItem>
                        </ComboBox>
                        <ComboBox Grid.Column="1" Grid.Row="9" Text="{Binding Path=AccessionOrder.PrimaryInsurance}" Margin="3" Width="100" HorizontalAlignment="Left" IsEnabled="{Binding Path=IsWorkspaceEnabled}" IsEditable="True">
                            <ComboBoxItem Content="Not Selected"></ComboBoxItem>
                            <ComboBoxItem Content="Medicare"></ComboBoxItem>
                            <ComboBoxItem Content="Medicaid"></ComboBoxItem>
                            <ComboBoxItem Content="BCHP"></ComboBoxItem>
                            <ComboBoxItem Content="BCBS"></ComboBoxItem>
                            <ComboBoxItem Content="Governmental"></ComboBoxItem>
                            <ComboBoxItem Content="Commercial"></ComboBoxItem>
                        </ComboBox>
                        <StackPanel Orientation="Horizontal" Grid.Column="1" Grid.Row="10">
                            <TextBox Text="{Binding Path=AccessionOrder.SvhMedicalRecord, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource TextBoxInput}" Width="75" IsEnabled="{Binding Path=IsWorkspaceEnabled}"></TextBox>
                            <TextBox Text="{Binding Path=AccessionOrder.SvhAccount, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource TextBoxInput}" Width="75" IsEnabled="{Binding Path=IsWorkspaceEnabled}"></TextBox>
                        </StackPanel>

                        <TextBlock Grid.Column="1" Grid.Row="11" Margin="3" Width="100" Text="{Binding Path=AccessionOrder.PatientId}" Style="{StaticResource TextBoxInput}"></TextBlock>

                        <Button Grid.Column="1" Grid.Row="12" Margin="2" Click="ButtonPatientLinking_Click" Width="145" HorizontalAlignment="Left" IsEnabled="{Binding Path=IsWorkspaceEnabled}">Patient Linking</Button>
                    </Grid>
                </TabItem>

                <TabItem Name="TabItemSpecimen" Header="Specimen">
                    <Grid Margin="5,5,5,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Column="0" Grid.Row="1" TextAlignment="Right" FontWeight="Bold">Date/Time Received:</TextBlock>
                        <TextBox Name="textBoxDateTimeReceived" Grid.Column="1" Grid.Row="1" IsEnabled="{Binding Path=IsWorkspaceEnabled}"
                                  HorizontalAlignment="Stretch" Margin="2,2,2,2"
                                 Text="{Binding Path=AccessionOrder.SpecimenOrderCollection[0].DateReceived, Converter={StaticResource MilitaryDateTimeConverter}}">
                        </TextBox>

                        <TextBlock Grid.Column="0" Grid.Row="2" TextAlignment="Right" FontWeight="Bold" Margin="2,2,2,2">Specimen:</TextBlock>

                        <StackPanel Grid.Column="1" Grid.Row="2" Orientation="Horizontal">
                            <TextBlock Margin="2,2,2,2">
                                <Hyperlink Click="HyperLinkShowSpecimenDialog_Click">Details</Hyperlink>
                            </TextBlock>
                            <TextBlock Margin="2,2,2,2">
                                <Hyperlink Click="HyperLinkShowSelectSpecimenDialog_Click">Selection</Hyperlink>
                            </TextBlock>
                        </StackPanel>

                        <TextBlock Grid.Column="0" Grid.Row="3" TextAlignment="Right" FontWeight="Bold" Margin="2,2,2,2">Specimen Viability:</TextBlock>
                        <TextBox Grid.Column="1" Grid.Row="3" IsEnabled="{Binding Path=IsWorkspaceEnabled}"
                                  HorizontalAlignment="Stretch"
                                 Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.SpecimenViabilityPercent, UpdateSourceTrigger=PropertyChanged}">
                        </TextBox>

                        <TextBlock Grid.Column="0" Grid.Row="4" FontWeight="Bold" Margin="2,2,2,2">Gross Description:</TextBlock>
                        <TextBox Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" IsEnabled="{Binding Path=IsWorkspaceEnabled}"
                                 TextWrapping="Wrap" AcceptsReturn="True"
                                 Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.GrossX, UpdateSourceTrigger=PropertyChanged}">
                        </TextBox>

                    </Grid>
                </TabItem>

                <TabItem Name="TabItemPatientHistory" Header="Data">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <ListView Grid.Column="0" Grid.Row="0" Name="listViewPatientHistory" ItemsSource="{Binding Path=PatientHistoryList}" IsSynchronizedWithCurrentItem="True" SelectionChanged="ListViewPatientHistory_SelectionChanged">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=ReportNo}" Header="Report No" Width="150"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=AccessionDate, Converter={StaticResource ShortDateConverter}}" Header="Accession Date" Width="150"/>
                                </GridView>
                            </ListView.View>
                        </ListView>
                        <ListView Grid.Column="1" Grid.Row="0" Name="listViewCaseFileList" ItemsSource="{Binding Path=PatientHistoryList.CaseDocumentCollection}" IsSynchronizedWithCurrentItem="True" MouseDoubleClick="listViewCaseFileList_MouseDoubleClick">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=FileName}" Header="File Name" Width="200"/>
                                </GridView>
                            </ListView.View>
                        </ListView>

                    </Grid>


                </TabItem>
                <TabItem Header="Gating" Name="tabItemFlowGating">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="133*"></ColumnDefinition>
                            <ColumnDefinition Width="235*"/>
                            <ColumnDefinition Width="369*"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="200"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="2">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Top" Margin="10">
                                <TextBlock VerticalAlignment="Top" FontWeight="Bold">Gating Population:</TextBlock>
                                <ComboBox Name="comboBoxGatingPopulation" Width="150" Height="20" IsEditable="True" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.GatingPopulationV2}" VerticalAlignment="Top" IsEnabled="{Binding Path=IsWorkspaceEnabled}">
                                    <ComboBoxItem>leukocytes</ComboBoxItem>
                                    <ComboBoxItem>nucleated cells</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                        </StackPanel>
                        <StackPanel HorizontalAlignment="Left" Name="stackPanelGatginPopulation" Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Margin="0,0,0,-0.2">
                            <TextBlock Style="{StaticResource GatingTextBlock}" Width="200">E-Gate: (Blast marker percentages)</TextBlock>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Style="{StaticResource GatingTextBlock}">CD34</TextBlock>
                                <TextBox Width="50" IsEnabled="{Binding Path=IsWorkspaceEnabled}" GotFocus="TextBoxSelect_GotFocus"
                                            Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.EGateCD34Percent, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Style="{StaticResource GatingTextBlock}">CD117</TextBlock>
                                <TextBox Width="50" IsEnabled="{Binding Path=IsWorkspaceEnabled}" GotFocus="TextBoxSelect_GotFocus"
                                         Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.EGateCD117Percent, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                            </StackPanel>
                        </StackPanel>
                        <StackPanel Grid.Column="2" Grid.Row="0" HorizontalAlignment="Left">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Style="{StaticResource GatingTextBlock}">Cell Type</TextBlock>
                                <TextBlock Style="{StaticResource GatingTextBlock}">Cell Count</TextBlock>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Style="{StaticResource GatingTextBlock}">Lymphocytes</TextBlock>
                                <TextBox Width="50" IsEnabled="{Binding Path=IsWorkspaceEnabled}" GotFocus="TextBoxSelect_GotFocus"
                                         Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.LymphocyteCount, Converter={StaticResource NumberConverter}, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                                <TextBlock Style="{StaticResource GatingTextBox}"
                                           Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.LymphocyteCountPercent, Converter={StaticResource GatingPercentConverter}}"></TextBlock>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Style="{StaticResource GatingTextBlock}">Monocytes</TextBlock>
                                <TextBox Width="50" IsEnabled="{Binding Path=IsWorkspaceEnabled}" GotFocus="TextBoxSelect_GotFocus"
                                         Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.MonocyteCount, Converter={StaticResource NumberConverter}, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                                <TextBlock Style="{StaticResource GatingTextBox}" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.MonocyteCountPercent, Converter={StaticResource GatingPercentConverter}}"></TextBlock>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Style="{StaticResource GatingTextBlock}">Myeloid</TextBlock>
                                <TextBox Width="50" IsEnabled="{Binding Path=IsWorkspaceEnabled}" GotFocus="TextBoxSelect_GotFocus"
                                         Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.MyeloidCount, Converter={StaticResource NumberConverter}, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                                <TextBlock Style="{StaticResource GatingTextBox}" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.MyeloidCountPercent, Converter={StaticResource GatingPercentConverter}}"></TextBlock>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Style="{StaticResource GatingTextBlock}">Dim CD45/Mod SS</TextBlock>
                                <TextBox Width="50" IsEnabled="{Binding Path=IsWorkspaceEnabled}" GotFocus="TextBoxSelect_GotFocus"
                                         Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.DimCD45ModSSCount, Converter={StaticResource NumberConverter}, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                                <TextBlock Style="{StaticResource GatingTextBox}" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.DimCD45ModSSCountPercent, Converter={StaticResource GatingPercentConverter}}"></TextBlock>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <TextBox Width="120" Style="{StaticResource GatingTextBox}" IsEnabled="{Binding Path=IsWorkspaceEnabled}"
                                         Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.OtherName, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                                <TextBox Width="50" IsEnabled="{Binding Path=IsWorkspaceEnabled}" GotFocus="TextBoxSelect_GotFocus"
                                         Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.OtherCount, Converter={StaticResource NumberConverter}, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                                <TextBlock Style="{StaticResource GatingTextBox}" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.OtherCountPercent, Converter={StaticResource PercentConverter}}"></TextBlock>
                            </StackPanel>
                        </StackPanel>
                        <!--<StackPanel HorizontalAlignment="Left" Name="stackPanelSpecimenViaboility" Grid.Column="1" Grid.Row="1">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Style="{StaticResource GatingTextBlock}">Specimen Viability</TextBlock>
                                <TextBox Width="50" IsEnabled="{Binding Path=IsWorkspaceEnabled}" GotFocus="TextBoxSelect_GotFocus"
                                            Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.SpecimenViabilityPercent, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                            </StackPanel>
                        </StackPanel>-->
                    </Grid>
                </TabItem>
                <TabItem Header="Markers" Name="tabItemFlowCaseMarkers">
                    <Grid Background="White">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="100"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                        </Grid.RowDefinitions>

                        <ListView Grid.Column="0" Grid.Row="0" Name="listViewCellPopulationsOfInterest" ItemsSource="{Binding Path=PanelSetOrderLeukemiaLymphoma.FlowMarkerCollection.CellPopulationsOfInterest}"
                                  SelectionChanged="ListViewCellPopulationsOfInterest_SelectionChanged">
                            <ListView.ContextMenu>
                                <ContextMenu>
                                    <MenuItem Header="Remove Panel" Click="ContextMenuRemovePanel_Click"></MenuItem>
                                </ContextMenu>
                            </ListView.ContextMenu>
                            <ListView.View>
                                <GridView ColumnHeaderToolTip="Cell Populations Of Interest">
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=Id}" Header="Cell Population" Width="100" />
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=Description}" Header="Cells of interest" Width="250"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=PanelName}" Header="Marker Panel" Width="250"/>
                                </GridView>
                            </ListView.View>
                        </ListView>

                        <ListView Name="listViewMarkers" Grid.Column="0" Grid.Row="1" ItemsSource="{Binding Path=PanelSetOrderLeukemiaLymphoma.FlowMarkerCollection.CurrentMarkerPanel}" ScrollViewer.CanContentScroll="True" 
							ScrollViewer.VerticalScrollBarVisibility="Visible">
                            <ListView.ContextMenu>
                                <ContextMenu Name="ContextMenuFlowMarkers">
                                    <MenuItem Header="Remove Marker" Click="ContextMenuRemoveMarker_Click"></MenuItem>
                                </ContextMenu>
                            </ListView.ContextMenu>
                            <ListView.View>
                                <GridView AllowsColumnReorder="true">
                                    <GridViewColumn Width="100" DisplayMemberBinding="{Binding Path=Name}" Header="Marker"/>
                                    <GridViewColumn Header="Interpretation">
                                        <GridViewColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <ComboBox Width="110" Margin="3" IsEditable="True" Text="{Binding Path=InterpretationProxy}">
                                                        <ComboBoxItem>Normal</ComboBoxItem>
                                                        <ComboBoxItem>Aberrant</ComboBoxItem>
                                                        <ComboBoxItem>Equivocal</ComboBoxItem>
                                                        <ComboBoxItem>Positive</ComboBoxItem>
                                                        <ComboBoxItem>Negative</ComboBoxItem>
                                                        <ComboBoxItem>Abnormal</ComboBoxItem>
                                                        <ComboBoxItem>Partially Positive</ComboBoxItem>
                                                        <ComboBoxItem>See comment</ComboBoxItem>
                                                        <ComboBoxItem>???</ComboBoxItem>
                                                    </ComboBox>
                                                </StackPanel>
                                            </DataTemplate>
                                        </GridViewColumn.CellTemplate>
                                    </GridViewColumn>
                                    <GridViewColumn Header="Intensity">
                                        <GridViewColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <ComboBox Width="130"  Margin="3" IsEditable="True" Text="{Binding Path=Intensity}">
                                                        <ComboBoxItem>Dim</ComboBoxItem>
                                                        <ComboBoxItem>Moderate</ComboBoxItem>
                                                        <ComboBoxItem>Bright</ComboBoxItem>
                                                        <ComboBoxItem>Heterogeneous</ComboBoxItem>
                                                        <ComboBoxItem>Dimmer than expected</ComboBoxItem>
                                                        <ComboBoxItem>Brighter than expected</ComboBoxItem>
                                                        <ComboBoxItem>See Comment</ComboBoxItem>
                                                        <ComboBoxItem>???</ComboBoxItem>
                                                    </ComboBox>
                                                </StackPanel>
                                            </DataTemplate>
                                        </GridViewColumn.CellTemplate>
                                    </GridViewColumn>
                                    <GridViewColumn Header="Expr Yes/No/=">
                                        <GridViewColumn.CellTemplate>
                                            <DataTemplate>
                                                <RadioButtonGroups:RadioButtonGroupMarkerExpression SelectedItem="{Binding Path=Expresses}"/>
                                            </DataTemplate>
                                        </GridViewColumn.CellTemplate>
                                    </GridViewColumn>
                                    <GridViewColumn Header="Predictive">
                                        <GridViewColumn.CellTemplate>
                                            <DataTemplate>
                                                <CheckBox IsChecked="{Binding Path=Predictive}" Width="50" HorizontalAlignment="Center"></CheckBox>
                                            </DataTemplate>
                                        </GridViewColumn.CellTemplate>
                                    </GridViewColumn>
                                </GridView>
                            </ListView.View>
                        </ListView>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Grid.Column="0" Grid.Row="2">
                            <TextBlock Margin="2,2,2,2">Marker Count:</TextBlock>
                            <TextBlock Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.FlowMarkerCollection.CurrentMarkerPanel.Count}" Margin="2,2,2,2"></TextBlock>
                        </StackPanel>
                    </Grid>
                </TabItem>
                <TabItem Header="Results">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Leukemia Result:</TextBlock>
                            <ComboBox Name="comboBoxLeukemiaResult" Margin="3" Style="{StaticResource BoundTextBox}" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.TestResult}" Width="200" SelectionChanged="ComboBoxLeukemiaResult_SelectionChanged" IsEnabled="{Binding Path=IsWorkspaceEnabled}">
                                <ComboBoxItem>Normal</ComboBoxItem>
                                <ComboBoxItem>Abnormal</ComboBoxItem>
                            </ComboBox>
                        </StackPanel>
                        <StackPanel Name="stackPanelCellDescription" Orientation="Horizontal" Visibility="Collapsed">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Cell Description:</TextBlock>
                            <ComboBox Name="comboBoxCellDescription" Margin="3" Style="{StaticResource BoundTextBox}" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.CellDescription}" Width="200" SelectionChanged="ComboBoxCellDescription_SelectionChanged" IsEnabled="{Binding Path=IsWorkspaceEnabled}">
                                <ComboBoxItem>Lymphocytes</ComboBoxItem>
                                <ComboBoxItem>Monocytes</ComboBoxItem>
                                <ComboBoxItem>Myeloid Cells</ComboBoxItem>
                                <ComboBoxItem>DIM45</ComboBoxItem>
                                <ComboBoxItem>Plasma Cells</ComboBoxItem>
                                <ComboBoxItem>Myeloid Blasts</ComboBoxItem>
                            </ComboBox>
                        </StackPanel>
                        <StackPanel Name="stackPanelBTCellSelection" Orientation="Horizontal" Visibility="Collapsed">
                            <TextBlock Style="{StaticResource HeadingTextBlock}">Lymphocyte Type:</TextBlock>
                            <ComboBox Name="comboBoxBTCellSelection" Margin="3" Style="{StaticResource BoundTextBox}" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.BTCellSelection}" Width="200" IsEnabled="{Binding Path=IsWorkspaceEnabled}">
                                <ComboBoxItem>B-cells</ComboBoxItem>
                                <ComboBoxItem>T-cells</ComboBoxItem>
                            </ComboBox>
                        </StackPanel>
                        <TextBlock FontWeight="Bold" Margin="5">Interpretive Comment:</TextBlock>
                        <TextBox Name="textBoxInteretiveComment" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.InterpretiveComment, UpdateSourceTrigger=PropertyChanged}" TextWrapping="Wrap" MinHeight="100" AcceptsReturn="True" IsEnabled="{Binding Path=IsWorkspaceEnabled}"></TextBox>
                        <TextBlock FontWeight="Bold" Margin="5">Impression:</TextBlock>
                        <TextBox Name="textBoxImpression" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.Impression, UpdateSourceTrigger=PropertyChanged}" TextWrapping="Wrap" MinHeight="100" AcceptsReturn="True" IsEnabled="{Binding Path=IsWorkspaceEnabled}"></TextBox>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                            <Button Height="25" VerticalAlignment="Top" Click="ButtonCreateComment_Click" IsEnabled="{Binding Path=IsWorkspaceEnabled}" Margin="2,2,2,2" Width="150">Create Comment</Button>
                        </StackPanel>
                    </StackPanel>
                </TabItem>
                <TabItem Header="ICD10 Codes">
                    <Grid Background="White">
                        <Grid.ContextMenu>
                            <ContextMenu>
                                <MenuItem Name="MeunuItemAddIcd9Code" Header="Insert ICD9 Code" Click="MenuItemAddIcd9Code_Click"></MenuItem>
                                <MenuItem></MenuItem>
                                <MenuItem Name="MeunuItemDeleteIcd9Code" Header="Delete ICD9 Code" Click="MenuItemDeleteIcd9Code_Click"></MenuItem>
                            </ContextMenu>
                        </Grid.ContextMenu>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition Height="80"></RowDefinition>
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Column="0" Grid.Row="0" Orientation="Horizontal">
                            <ListView Name="ListViewICD9BillingCodeCollection" ItemsSource="{Binding Path=ICD9BillingCodeCollection}" IsSynchronizedWithCurrentItem="True">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn DisplayMemberBinding="{Binding Path=ICD10Code}" Header="ICD10 Code" Width="100"/>
                                        <GridViewColumn DisplayMemberBinding="{Binding Path=Quantity}" Header="Quantity" Width="100"/>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                            <ListView Name="ListViewICDCodes" ItemsSource="{Binding Path=ICDCodeList}" MouseDoubleClick="ListICDCode_MouseDoubleClick">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn DisplayMemberBinding="{Binding Path=Code}" Header="ICD10 Code" Width="100"/>
                                        <GridViewColumn DisplayMemberBinding="{Binding Path=Description}" Header="Description" Width="400"/>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </StackPanel>

                        <StackPanel Grid.Column="0" Grid.Row="1" Orientation="Horizontal">
                            <Button VerticalAlignment="Top" Width="200" Style="{StaticResource NormalButton}" Click="ButtonRemoveICDCode_Click">Remove ICD Code</Button>
                        </StackPanel>
                    </Grid>
                </TabItem>
                <TabItem Header="CPT Codes">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                        </Grid.RowDefinitions>
                        <ListView Name="ListViewPanelSetOrderCPTCode" Grid.Column="0" Grid.Row="0" ItemsSource="{Binding Path=PanelSetOrderLeukemiaLymphoma.PanelSetOrderCPTCodeCollection}" Margin="2,2,2,2">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=Quantity}" Header="Qty" Width="75"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=CPTCode}" Header="CPT Code" Width="100"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=CodeableDescription}" Header="Description" Width="200"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=CodeableType}" Header="Type" Width="150"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=Modifier}" Header="Modifier" Width="100"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=PostDate, Converter={StaticResource ShortDateConverter}}" Header="Post Date" Width="120"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=EntryType}" Header="Entry Type" Width="100"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=ClientId}" Header="Client" Width="100"/>
                                </GridView>
                            </ListView.View>
                        </ListView>
                        <Button Grid.Column="0" Grid.Row="1" Width="100" Height="30" Click="ButtonSetCodes_Click" HorizontalAlignment="Right" Margin="2,2,2,2">Set Codes</Button>
                    </Grid>
                </TabItem>
                <TabItem Header="Tech Final">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="20"></RowDefinition>
                            <RowDefinition Height="25"></RowDefinition>
                            <RowDefinition Height="25"></RowDefinition>
                            <RowDefinition Height="25"></RowDefinition>
                            <RowDefinition Height="25"></RowDefinition>
                            <RowDefinition Height="25"></RowDefinition>
                            <RowDefinition Height="100"></RowDefinition>
                            <RowDefinition Height="50"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>
                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="1" Style="{StaticResource HeadingTextBlock}">Med Tech:</TextBlock>

                        <ComboBox Style="{StaticResource BoundTextBox}" Grid.Column="1" Grid.Row="1"
								         ItemsSource="{Binding Path=MedTechUsers}" HorizontalAlignment="Left"
								         DisplayMemberPath="DisplayName"								 
								         SelectedValuePath="UserId"
								         SelectedValue="{Binding Path=PanelSetOrderLeukemiaLymphoma.TechFinaledById}">
                        </ComboBox>

                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="2" Style="{StaticResource HeadingTextBlock}">Tech Final:</TextBlock>
                        <TextBlock HorizontalAlignment="Left" Grid.Column="1" Grid.Row="2" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.TechFinal}" Width="200" Style="{StaticResource HeadingTextBlock}" TextAlignment="Left"></TextBlock>
                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="3" Style="{StaticResource HeadingTextBlock}">Tech Final Date:</TextBlock>
                        <TextBlock HorizontalAlignment="Left" Grid.Column="1" Grid.Row="3" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.TechFinalDate, Converter={StaticResource ShortDateConverter}}" Style="{StaticResource HeadingTextBlock}" Width="200" TextAlignment="Left"></TextBlock>
                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="4" Style="{StaticResource HeadingTextBlock}">Tech Final Time:</TextBlock>
                        <TextBlock HorizontalAlignment="Left" Grid.Column="1" Grid.Row="4" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.TechFinalTime, Converter={StaticResource ShortTimeConverter}}" Style="{StaticResource HeadingTextBlock}" Width="200" TextAlignment="Left"></TextBlock>
                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="5" Style="{StaticResource HeadingTextBlock}">Test Canceled:</TextBlock>
                        <CheckBox Name="CheckBoxTestCancelled" HorizontalAlignment="Left" Grid.Column="1" Grid.Row="5" IsChecked="{Binding Path=PanelSetOrderLeukemiaLymphoma.TestCancelled}"></CheckBox>
                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="6" Style="{StaticResource HeadingTextBlock}">Comment:</TextBlock>
                        <TextBox HorizontalAlignment="Left" Grid.Column="1" Grid.Row="6" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.TestCancelledComment, UpdateSourceTrigger=PropertyChanged}" Width="400" TextWrapping="Wrap" TextAlignment="Left"                                   
                                 IsEnabled="{Binding Path=IsWorkspaceEnabled}"></TextBox>
                        <StackPanel Grid.Column="1" Grid.Row="7" Orientation="Horizontal">

                            <Button HorizontalAlignment="Left" Name="buttonTechFinal" Click="ButtonTechFinal_Click" Height="25" Width="100" Margin="2,2,2,2">Tech Final</Button>
                            <Button HorizontalAlignment="Left" Name="buttonTechUnfinal" Click="ButtonTechUnfinal_Click" Height="25" Width="100" Margin="2,2,2,2">Tech Unfinal</Button>
                        </StackPanel>

                        <TextBox Grid.Row="8" Grid.Column="0" Grid.ColumnSpan="2" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.ReportComment, UpdateSourceTrigger=PropertyChanged}" TextWrapping="Wrap" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></TextBox>

                    </Grid>
                </TabItem>

                <TabItem Header="Case Final">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="20"></RowDefinition>
                            <RowDefinition Height="25"></RowDefinition>
                            <RowDefinition Height="25"></RowDefinition>
                            <RowDefinition Height="25"></RowDefinition>
                            <RowDefinition Height="25"></RowDefinition>
                            <RowDefinition Height="25"></RowDefinition>
                            <RowDefinition Height="100"></RowDefinition>
                            <RowDefinition Height="50"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>
                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="1" Style="{StaticResource HeadingTextBlock}">Final:</TextBlock>
                        <TextBlock HorizontalAlignment="Left" Grid.Column="1" Grid.Row="1" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.Final}" Width="200" Style="{StaticResource HeadingTextBlock}" TextAlignment="Left"></TextBlock>
                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="2" Style="{StaticResource HeadingTextBlock}">Final Date:</TextBlock>
                        <TextBlock HorizontalAlignment="Left" Grid.Column="1" Grid.Row="2" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.FinalDate, Converter={StaticResource ShortDateConverter}}" Style="{StaticResource HeadingTextBlock}" Width="200" TextAlignment="Left"></TextBlock>
                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="3" Style="{StaticResource HeadingTextBlock}">Final Time:</TextBlock>
                        <TextBlock HorizontalAlignment="Left" Grid.Column="1" Grid.Row="3" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.FinalTime, Converter={StaticResource ShortTimeConverter}}" Style="{StaticResource HeadingTextBlock}" Width="200" TextAlignment="Left"></TextBlock>
                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="4" Style="{StaticResource HeadingTextBlock}" Width="200">Signature:</TextBlock>

                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="5" Style="{StaticResource HeadingTextBlock}">Test Canceled:</TextBlock>
                        <CheckBox HorizontalAlignment="Left" Grid.Column="1" Grid.Row="5" IsChecked="{Binding Path=PanelSetOrderLeukemiaLymphoma.TestCancelled}" IsEnabled="{Binding Path=IsWorkspaceEnabled}"></CheckBox>
                        <TextBlock HorizontalAlignment="Right" Grid.Column="0" Grid.Row="6" Style="{StaticResource HeadingTextBlock}">Comment:</TextBlock>
                        <TextBox HorizontalAlignment="Left" Grid.Column="1" Grid.Row="6" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.TestCancelledComment, UpdateSourceTrigger=PropertyChanged}" Width="400" TextWrapping="Wrap" TextAlignment="Left" IsEnabled="{Binding Path=IsWorkspaceEnabled}"></TextBox>

                        <StackPanel Grid.Column="1" Grid.Row="4" Orientation="Horizontal">
                            <TextBlock Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.Signature}" Style="{StaticResource HeadingTextBlock}" TextAlignment="Left" Width="200"></TextBlock>
                            <TextBlock Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.FinaledById}" Style="{StaticResource HeadingTextBlock}" TextAlignment="Left" Visibility="Hidden"></TextBlock>
                        </StackPanel>
                        <StackPanel Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Orientation="Horizontal">
                            <Button HorizontalAlignment="Left" Name="buttonViewReport" Click="ButtonViewReport_Click" Height="25" Width="100">View Report</Button>
                            <Button HorizontalAlignment="Left" Name="buttonSignReport" Click="ButtonSignReport_Click" Height="25" Width="100" IsEnabled="{Binding Path=SignReportButtonEnabled}" Content="{Binding Path=SignReportButtonContent}" />
                        </StackPanel>

                    </Grid>
                </TabItem>

            </TabControl>

            <GridSplitter Height="5" Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Center"></GridSplitter>

            <TabControl Name="tabControlBottomLeftPane" Grid.Column="0" Grid.Row="2">

                <TabItem Header="List">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>

                        <Button Width="125" Height="30" Grid.Column="0" Grid.Row="0" Click="ButtonReportOrder_Click" HorizontalAlignment="Left" Margin="2,2,2,2">Additional Testing</Button>
                        <Button Width="75" Height="30" Grid.Column="0" Grid.Row="0" Click="ButtonRefresh_Click" HorizontalAlignment="Right" Margin="2,2,2,2">Refresh</Button>

                        <ListView Name="ListViewFlowCaseList" Grid.Column="0" Grid.Row="1" ItemsSource="{Binding Path=FlowLogSearch.FlowLogList}" SelectionChanged="ListViewFlowCaseList_SelectionChanged">

                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding Path=IsLockAquiredByMe}" Value="True"/>
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Background" Value="#cbf4c8"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding Path=IsLockAquiredByMe}" Value="False"/>
                                                <Condition Binding="{Binding Path=LockAquired}" Value="true"/>
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Background" Value="#fae5e7"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding Path=LockAquired}" Value="False"/>
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Background" Value="#FFFFFF"/>
                                        </MultiDataTrigger>
                                        <MultiTrigger>
                                            <MultiTrigger.Conditions>
                                                <Condition Property="IsSelected" Value="true" />
                                            </MultiTrigger.Conditions>
                                            <Setter Property="FontWeight" Value="Bold" />
                                        </MultiTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ListView.ItemContainerStyle>

                            <ListView.View>
                                <GridView AllowsColumnReorder="True" ColumnHeaderToolTip="Flow Case List">
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=ReportNo}" Header="Report No" Width="85"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=AccessionDate, Converter={StaticResource ShortDateConverter}}" Header="Accession Date" Width="85"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=TestName}" Header="Test" Width="90"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=PLastName}" Header="Last Name" Width="120"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=PFirstName}" Header="First Name" Width="120"/>
                                    <GridViewColumn DisplayMemberBinding="{Binding Path=FinalDate, Converter={StaticResource ShortDateConverter}}" Header="Final" Width="75"/>
                                </GridView>
                            </ListView.View>
                        </ListView>
                    </Grid>
                </TabItem>
                <TabItem Name="tablItemSearch" Header="Search">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <RadioButton Name="radioButtonSearchCurrentMonth"
								Checked="RadioButtonFlowSearch_Checked"
							  Style="{StaticResource RadioButtonStyle}"
							  GroupName="radioButtonGroupSearch">Current Months Cases</RadioButton>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <RadioButton Name="radioButtonSearchLastMonth"
								Checked="RadioButtonFlowSearch_Checked"
							  Style="{StaticResource RadioButtonStyle}"
							  GroupName="radioButtonGroupSearch">Last Months Cases</RadioButton>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <RadioButton Name="radioButtonSearchLeukemiaNotFinal"
								Checked="RadioButtonFlowSearch_Checked"
							  Style="{StaticResource RadioButtonStyle}"
							  GroupName="radioButtonGroupSearch">Leukemia Cases Not Final</RadioButton>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <RadioButton Name="radioButtonSearchReportNo"
								Checked="RadioButtonFlowSearch_Checked"
								Style="{StaticResource RadioButtonStyle}"
							  GroupName="radioButtonGroupSearch">Report No:</RadioButton>
                            <TextBox Name="textBoxSearchReportNo" Width="100" Visibility="Hidden" KeyUp="textBoxSearchReportNo_KeyUp"></TextBox>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <RadioButton Name="radioButtonSearchPatientName"
								Checked="RadioButtonFlowSearch_Checked"
								Style="{StaticResource RadioButtonStyle}"
								GroupName="radioButtonGroupSearch">Patient Name:</RadioButton>
                            <TextBox Name="textBoxSearchPatientName" Width="200" Visibility="Hidden">Mouse, Mickey</TextBox>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <RadioButton Name="radioButtonSearchSelectMonth"
								Checked="RadioButtonFlowSearch_Checked"
								Style="{StaticResource RadioButtonStyle}"
							  GroupName="radioButtonGroupSearch">Accession Month:</RadioButton>
                            <StackPanel Orientation="Horizontal" Name="stackPanelAccessionMonthSearch" Visibility="Hidden">
                                <TextBlock Margin="3">Month</TextBlock>
                                <ComboBox Name="comboBoxMonth" Width="100" Margin="3">
                                    <ComboBoxItem Tag="1">January</ComboBoxItem>
                                    <ComboBoxItem Tag="2">February</ComboBoxItem>
                                    <ComboBoxItem Tag="3">March</ComboBoxItem>
                                    <ComboBoxItem Tag="4">April</ComboBoxItem>
                                    <ComboBoxItem Tag="5">May</ComboBoxItem>
                                    <ComboBoxItem Tag="6">June</ComboBoxItem>
                                    <ComboBoxItem Tag="7">July</ComboBoxItem>
                                    <ComboBoxItem Tag="8">August</ComboBoxItem>
                                    <ComboBoxItem Tag="9">September</ComboBoxItem>
                                    <ComboBoxItem Tag="10">October</ComboBoxItem>
                                    <ComboBoxItem Tag="11">November</ComboBoxItem>
                                    <ComboBoxItem Tag="12">December</ComboBoxItem>
                                </ComboBox>
                                <TextBlock Margin="3">Year</TextBlock>
                                <ComboBox Name="comboBoxYear" Width="100" Margin="3">
                                    <ComboBoxItem>2000</ComboBoxItem>
                                    <ComboBoxItem>2001</ComboBoxItem>
                                    <ComboBoxItem>2002</ComboBoxItem>
                                    <ComboBoxItem>2003</ComboBoxItem>
                                    <ComboBoxItem>2004</ComboBoxItem>
                                    <ComboBoxItem>2005</ComboBoxItem>
                                    <ComboBoxItem>2006</ComboBoxItem>
                                    <ComboBoxItem>2007</ComboBoxItem>
                                    <ComboBoxItem>2008</ComboBoxItem>
                                    <ComboBoxItem>2009</ComboBoxItem>
                                    <ComboBoxItem>2010</ComboBoxItem>
                                    <ComboBoxItem>2011</ComboBoxItem>
                                    <ComboBoxItem>2012</ComboBoxItem>
                                    <ComboBoxItem>2013</ComboBoxItem>
                                    <ComboBoxItem>2014</ComboBoxItem>
                                    <ComboBoxItem>2015</ComboBoxItem>
                                    <ComboBoxItem>2016</ComboBoxItem>
                                    <ComboBoxItem>2017</ComboBoxItem>
                                    <ComboBoxItem>2018</ComboBoxItem>
                                    <ComboBoxItem>2019</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                        </StackPanel>
                        <Button Name="buttonSearch" Click="ButtonSearch_Click" Style="{StaticResource NormalButton}" Width="150">Search</Button>
                    </StackPanel>
                </TabItem>
                <TabItem Header="Tasks" Name="tabItemTasks">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition Width="*"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>

                        <Button Width="200" Grid.Column="0" Grid.Row="0" Style="{StaticResource NormalButton}" Click="ButtonReceiveSpecimen_Click">Receive Specimen</Button>
                        <Button Width="200" Grid.Column="0" Grid.Row="1" Style="{StaticResource NormalButton}" Click="ButtonPrintReport_Click">Print Report</Button>
                        <Button Width="200" Grid.Column="0" Grid.Row="2" Style="{StaticResource NormalButton}" Click="ButtonPublishReport_Click">Publish Report</Button>
                        <Button Width="200" Grid.Column="0" Grid.Row="3" Style="{StaticResource NormalButton}" Click="ButtonViewReport_Click">View Report</Button>
                        <Button Width="200" Grid.Column="0" Grid.Row="4" Style="{StaticResource NormalButton}" Click="ButtonOrderFlowOnExistingAccession_Click">Order Flow On Existing Accession</Button>

                        <Button Width="200" Grid.Column="1" Grid.Row="0" Style="{StaticResource NormalButton}" Click="ButtonOpenDocumentFolder_Click">Open Document Folder</Button>
                        <Button Width="200" Grid.Column="1" Grid.Row="1" Style="{StaticResource NormalButton}" Click="ButtonOpenFC500Folder_Click">Open FC500 Folder</Button>
                        <Button Width="200" Grid.Column="1" Grid.Row="1" Style="{StaticResource NormalButton}" Click="ButtonOpenFGalliosFolder_Click">Open Gallios Folder</Button>

                    </Grid>
                </TabItem>
            </TabControl>
        </Grid>
        <GridSplitter Width="2" Grid.Column="0"></GridSplitter>
        <TabControl Name="tabControlRightPane" Grid.Column="1" Grid.Row="0">

            <TabItem Name="tabItemDocumentViewer" Header="Documents">

            </TabItem>

            <TabItem Name="tabItemComment" Header="Comments">
                <Grid Name="gridComments">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>
                    <ListView Grid.Column="0" Grid.Row="0" Name="listViewComments" ItemsSource="{Binding Path=FlowComment.FlowCommentCollectionView}" IsSynchronizedWithCurrentItem="True" MouseDoubleClick="ListViewComments_MouseDoubleClick">
                        <ListView.View>
                            <GridView AllowsColumnReorder="True" ColumnHeaderToolTip="Flow Comments">
                                <GridViewColumn DisplayMemberBinding="{Binding Path=Category}" Header="Category" Width="100"/>
                                <GridViewColumn DisplayMemberBinding="{Binding Path=Description}" Header="Description" Width="300"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </TabItem>
            <TabItem Name="tabItemMarkers" Header="Markers">
                <Grid Name="gridMarkers">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"></RowDefinition>
                        <RowDefinition Height="40"></RowDefinition>
                    </Grid.RowDefinitions>
                    <ListView MouseDoubleClick="ListViewFlowMarkers_MouseDoubleClick" Grid.Column="0" Grid.Row="0" Name="listViewFlowMarkers" ItemsSource="{Binding Path=Marker.MarkerCollectionView}" IsSynchronizedWithCurrentItem="True">
                        <ListView.View>
                            <GridView AllowsColumnReorder="True" ColumnHeaderToolTip="Markers">
                                <GridViewColumn DisplayMemberBinding="{Binding Path=MarkerId}" Header="ID" Width="100"/>
                                <GridViewColumn DisplayMemberBinding="{Binding Path=MarkerName}" Header="Marker" Width="300"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                    <StackPanel Grid.Column="0" Grid.Row="1">
                        <Button Width="200" Style="{StaticResource NormalButton}" Click="ButtonAddMarker_Click">Add Marker To Case.</Button>
                    </StackPanel>
                </Grid>
            </TabItem>
            <TabItem Name="tabItemPanels" Header="Panels">
                <StackPanel Grid.Column="0" Grid.Row="0">

                    <StackPanel Orientation="Horizontal" Margin="5">
                        <TextBlock VerticalAlignment="Center" Width="200" Style="{StaticResource GatingTextBlock}" TextAlignment="Right" Margin="2,2,2,2">Cell Population Of Interest:</TextBlock>
                        <ComboBox Name="comboBoxCellPopulationOfInterest" Width="150" IsEditable="True" Margin="2,2,2,2" VerticalAlignment="Top" IsEnabled="{Binding Path=IsWorkspaceEnabled}">
                            <ComboBoxItem>Abnormal Lymphocytes</ComboBoxItem>
                            <ComboBoxItem>All WBC's</ComboBoxItem>
                            <ComboBoxItem>All Nucleated Cells</ComboBoxItem>
                            <ComboBoxItem>Blasts</ComboBoxItem>
                            <ComboBoxItem>Dim CD45</ComboBoxItem>
                            <ComboBoxItem>Granulocytes</ComboBoxItem>
                            <ComboBoxItem>Lymphocytes</ComboBoxItem>
                            <ComboBoxItem>Monocytes</ComboBoxItem>
                            <ComboBoxItem>Plasma Cells</ComboBoxItem>
                        </ComboBox>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="5">
                        <TextBlock VerticalAlignment="Center" Width="200" Style="{StaticResource GatingTextBlock}" TextAlignment="Right" Margin="2,2,2,2">Marker Panel:</TextBlock>
                        <ComboBox Name="comboBoxMarkerPanel" Width="150" ItemsSource="{Binding Path=FlowPanelList}" Margin="2,2,2,2"
                                          DisplayMemberPath="PanelName" SelectedValuePath="PanelId" IsEnabled="{Binding Path=IsWorkspaceEnabled}">
                        </ComboBox>
                        <Button Name="ButtonAddMarkerPanel" Height="20" Width="100" Click="ButtonAddMarkerPanel_Click" IsEnabled="{Binding Path=IsWorkspaceEnabled}" Margin="2,2,2,2">Add Marker Panel</Button>
                        <Button Height="20" Width="100" Click="ButtonRemoveMarker_Click" IsEnabled="{Binding Path=IsWorkspaceEnabled}" Margin="2,2,2,2">Remove Marker</Button>
                    </StackPanel>
                </StackPanel>
            </TabItem>
            <TabItem Name="tabItemClientSearch" Header="Client Search">

            </TabItem>

            <TabItem Name="tablItemBrokenRules" Header="Broken Rules">
                <Grid Name="gridFlowBrokenRules">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>
                    <ListView Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="2" Name="listViewBrokenRules" ItemsSource="{Binding Path=FlowCaseValidation.BrokenRules}" IsSynchronizedWithCurrentItem="True">
                        <ListView.View>
                            <GridView ColumnHeaderToolTip="Broken Rules">
                                <GridViewColumn DisplayMemberBinding="{Binding Path=RuleName}" Header="Rule Name" Width="200" />
                                <GridViewColumn DisplayMemberBinding="{Binding Path=Description}" Header="Description" Width="200"/>
                                <GridViewColumn DisplayMemberBinding="{Binding Path=Severity}" Header="Severity" Width="100"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </TabItem>
        </TabControl>

        <StatusBar Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2">
            <StatusBarItem>
                <TextBlock Margin="25,2,2,2" TextAlignment="Right" HorizontalAlignment="Stretch" VerticalAlignment="Center">Current User:</TextBlock>
            </StatusBarItem>
            <StatusBarItem>
                <TextBlock Width="120" Margin="2" HorizontalAlignment="Stretch" VerticalAlignment="Center" Text="{Binding Path=CurrentUser.UserName}"></TextBlock>
            </StatusBarItem>

            <StatusBarItem>
                <TextBlock Margin="2" TextAlignment="Right" HorizontalAlignment="Stretch" VerticalAlignment="Center">Locked By:</TextBlock>
            </StatusBarItem>
            <StatusBarItem>
                <TextBlock Width="300" Margin="2" TextAlignment="Left" HorizontalAlignment="Stretch" VerticalAlignment="Center" Text="{Binding Path=AccessionOrder.AccessionLock.Address}"></TextBlock>
            </StatusBarItem>

            <StatusBarItem>
                <TextBlock Margin="2" TextAlignment="Right" HorizontalAlignment="Stretch" VerticalAlignment="Center">Report No:</TextBlock>
            </StatusBarItem>
            <StatusBarItem>
                <TextBlock Width="60" Margin="2" TextAlignment="Left" HorizontalAlignment="Stretch" VerticalAlignment="Center" Text="{Binding Path=PanelSetOrderLeukemiaLymphoma.ReportNo}"></TextBlock>
            </StatusBarItem>

        </StatusBar>
    </Grid>
</UserControl>
